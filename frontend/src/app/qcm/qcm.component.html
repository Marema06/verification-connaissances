<div *ngIf="qcmData">
  <h2>QCM de {{ qcmData.author }}</h2>
  <form [formGroup]="qcmForm" (ngSubmit)="submitAnswers()">
    <div *ngFor="let q of qcmData.qcm; let i = index">
      <fieldset>
        <legend>{{ i + 1 }}. {{ q.question }}</legend>
        <div *ngFor="let opt of q.options; let j = index">
          <label>
            <input type="radio" [formControlName]="'q'+i" [value]="j" />
            {{ opt }}
          </label>
        </div>
      </fieldset>
    </div>
    <button type="submit" [disabled]="qcmForm.invalid">Envoyer réponses</button>
  </form>

  <button (click)="downloadTeacherPdf()">Télécharger QCM Professeur (PDF)</button>
  <div *ngIf="pdfUrl">
    <a [href]="pdfUrl" target="_blank">Ouvrir PDF Prof</a>
  </div>
</div>
