<div *ngIf="qcmData.length === 0">
  Chargement du QCM...
</div>

<div *ngIf="qcmData.length > 0">
  <form (ngSubmit)="submit()">
    <div *ngFor="let q of qcmData; let i = index" class="question-block">
      <p><strong>Q{{i + 1}}. {{ q.question }}</strong></p>

      <div *ngFor="let choice of q.choices">
        <label>
          <input
            type="radio"
            [name]="'q' + i"
            [value]="choice.charAt(0)"
          (change)="selectAnswer(i, choice.charAt(0))"
          [checked]="answers[i] === choice.charAt(0)"
          required
          />
          {{ choice }}
        </label>
      </div>
      <hr />
    </div>

    <button type="submit">Soumettre</button>
  </form>

  <p class="feedback" *ngIf="feedback">{{ feedback }}</p>
</div>
